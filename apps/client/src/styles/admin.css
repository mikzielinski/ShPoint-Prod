/* ===== SHPoint — Admin (high-contrast outside table) ===== */
:root{
  /* Teksty i tła ogólne */
  --ad-text:#0b1220;            /* bardzo ciemny – wysoki kontrast (light) */
  --ad-muted:#475569;           /* slate-600 (podtytuły/placeholdery w light) */
  --ad-bg:#f7f9fc;              /* tło strony (jaśniejsze) */

  /* Karta / tabela (pozostają ciemne jak było) */
  --ad-panel:#0e1726;
  --ad-panel-2:#0b1220;
  --ad-b:#1f2a44;
  --ad-b2:#223150;
  --ad-hover:#0f1b2e;
  --ad-shadow:0 22px 60px rgba(2, 6, 23, .35);

  /* Sticky header tabeli */
  --ad-header:#0b1220;
  --ad-header-text:#e8f0ff;

  /* Akcenty */
  --ad-primary:#2563eb;
  --ad-primary-600:#1d4ed8;

  /* Tytuł i „hero panel” (za nagłówkiem strony) */
  --ad-title:#0b1220;          /* tytuł – bardzo ciemny w light */
  --ad-subtitle:#475569;       /* podtytuł – lepszy kontrast w light */
  --ad-hero:#eef3ff;           /* jaśniejsze tło panelu */
  --ad-hero-b:#d6e2ff;         /* obrys panelu */

  /* Badge kolory (bez zmian) */
  --ad-success:#16a34a;
  --ad-warning:#f59e0b;
  --ad-danger:#dc2626;
}

@media (prefers-color-scheme:dark){
  :root{
    --ad-text:#e5e7eb;
    --ad-muted:#cbd5e1;        /* podtytuły/placeholdery w dark */
    --ad-bg:#0b1220;

    --ad-panel:#0e1726;
    --ad-panel-2:#0f1624;
    --ad-b:#1f2a44;
    --ad-b2:#223150;
    --ad-hover:#131e33;
    --ad-shadow:0 22px 60px rgba(2, 6, 23, .55);

    --ad-header:#0e1626;
    --ad-header-text:#e8f0ff;

    --ad-title:#f8fafc;         /* jasny tytuł na dark */
    --ad-subtitle:#cbd5e1;
    --ad-hero:#121a2b;          /* ciemny hero panel */
    --ad-hero-b:#1f2a44;
  }
}

/* Strona */
.admin-page{
  max-width: 1180px;
  margin: 0 auto;
  padding: 28px 20px 44px;
  color: var(--ad-text);
  font-family: var(--sp-font);
  background: var(--ad-bg);
}

/* ===== Nagłówek strony: jasny panel + mocny tekst ===== */
.page-head{
  position: relative;
  text-align:center;
  margin: 6px 0 20px;
  padding: 20px 16px 18px;
  background: var(--ad-hero);
  border: 1px solid var(--ad-hero-b);
  border-radius: 16px;
  box-shadow: inset 0 6px 18px rgba(2,6,23,.06);
}
.page-head h1{
  font-size: clamp(26px, 2.2vw, 36px);
  font-weight: 900;
  letter-spacing:-.02em;
  margin:0 0 8px;
  color: var(--ad-title);       /* ➜ wyraźny kontrast */
  text-shadow:none;
}
.page-head p{
  margin:0;
  color: var(--ad-subtitle);    /* ➜ lepszy kontrast podtytułu */
  opacity: 1;
}

/* ===== Toolbar (pills + ikony) – bardziej czytelny tekst ===== */
.toolbar{
  display:flex; align-items:center; gap:12px; flex-wrap:wrap;
  justify-content:center; margin:18px 0 22px;
}
.toolbar-left, .toolbar-right{ display:flex; align-items:center; gap:10px; flex-wrap:wrap; }

.input, .select{
  height: 44px; min-width: 260px;
  padding: 10px 14px 10px 44px;   /* miejsce na ikonę */
  border: 1px solid var(--ad-b2);
  background: #ffffff;            /* JAŚNIEJ w light dla kontrastu */
  color: var(--ad-text);
  border-radius: 999px;           /* pill */
  outline: none;
  transition: border-color .15s, box-shadow .15s, background .15s, color .15s;
}
.input::placeholder{ color: var(--ad-muted); }  /* czytelniejszy placeholder */
.select{ color: var(--ad-text); }
.input:focus, .select:focus{
  border-color: #7aa2ff;
  box-shadow: 0 0 0 3px rgba(122,162,255,.2);
}

/* W dark motywie inputy lekko przyciemniamy, ale z jasnym tekstem */
@media (prefers-color-scheme:dark){
  .input, .select{
    background: var(--ad-panel-2);
    color: #e5e7eb;
  }
  .input::placeholder{ color:#9fb0c6; }
}

/* Ikony w polach (SVG data-URI) */
.input{
  background-image: url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='18' height='18' viewBox='0 0 24 24' fill='none' stroke='%23647589' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'><circle cx='11' cy='11' r='8'/><path d='m21 21-4.3-4.3'/></svg>");
  background-repeat: no-repeat;
  background-position: 14px 50%;
}
.select{
  padding-left: 44px;
  appearance:none;
  background-image:
    url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='18' height='18' viewBox='0 0 24 24' fill='none' stroke='%23647589' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'><path d='M8 9l4-4 4 4'/><path d='M16 15l-4 4-4-4'/></svg>");
  background-repeat:no-repeat;
  background-position:14px 50%, right 12px center;
}

/* Przyciski – bardziej kontrastowe napisy w light i dark */
.btn{
  font-family: var(--sp-font);
  font-weight: 800;
  height: 44px; padding: 10px 18px;
  border-radius: 999px;
  border: 1px solid var(--ad-b2);
  background: #ffffff;             /* jaśniej w light */
  color: var(--ad-text);           /* ciemny napis */
  cursor: pointer;
  transition: background .15s, border-color .15s, transform .02s, box-shadow .15s, color .15s;
}
.btn:hover{ background: #f3f6fb; border-color: #b9c6dd; }
.btn:active{ transform: translateY(.5px); }
.btn:disabled{ opacity:.6; cursor:not-allowed; }

.btn--primary{ background: var(--ad-primary); color:#fff; border-color: transparent; }
.btn--primary:hover{ background: var(--ad-primary-600); }
.btn--outline{ background: #ffffff; border-color: var(--ad-b2); color: var(--ad-text); }
.btn--danger{ background: var(--ad-danger); color:#fff; border-color: transparent; }
.btn--danger:hover{ background: #b91c1c; }
.btn-sm{ height: 32px; padding: 6px 12px; font-size: 12px; border-radius: 999px; }

@media (prefers-color-scheme:dark){
  .btn{ background: var(--ad-panel-2); color:#e5e7eb; border-color: var(--ad-b2); }
  .btn--outline{ background: transparent; color:#e5e7eb; }
  .btn:hover{ background: var(--ad-hover); border-color: var(--ad-b); }
}

/* ===== Karta z tabelą (bez zmian wizualnych, nadal dark) ===== */
.card{
  background: var(--ad-panel);
  border: 1px solid var(--ad-b);
  border-radius: 18px;
  box-shadow: var(--ad-shadow);
  overflow: hidden;
}

.card-header{
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 20px 24px;
  border-bottom: 1px solid var(--ad-b);
}

.card-header h2{
  margin: 0;
  font-size: 20px;
  font-weight: 700;
  color: var(--ad-header-text);
}

.card-body{
  overflow: hidden;
  transition: max-height 0.3s ease-in-out, opacity 0.3s ease-in-out;
}

/* Allow dropdown to overflow card boundaries */
.card--dropdown-enabled {
  overflow: visible !important;
}

.card--dropdown-enabled .card-body {
  overflow: visible !important;
}

/* Ensure dropdown container allows overflow */
.dropdown-container {
  overflow: visible !important;
}

/* Make sure dropdown menu is above everything */
.dropdown-menu {
  z-index: 99999 !important;
}

/* Ensure main containers allow overflow */
main, body, html {
  overflow-x: visible !important;
}

.admin-page {
  overflow: visible !important;
}

.card-body.collapsed{
  max-height: 0;
  opacity: 0;
  padding-top: 0;
  padding-bottom: 0;
}

/* Tabela */
/* ====== Dropdown Menu ====== */
.dropdown-container {
  position: relative;
  overflow: visible;
  z-index: 1001;
}

.dropdown-menu {
  position: absolute;
  background: var(--ad-panel);
  border: 1px solid var(--ad-b);
  border-radius: 8px;
  box-shadow: 0 10px 25px rgba(0, 0, 0, 0.3), 0 4px 12px rgba(0, 0, 0, 0.2);
  z-index: 9999;
  min-width: 140px;
  max-height: 250px;
  overflow-y: auto;
  backdrop-filter: blur(10px);
  top: 100%;
  left: 0;
  margin-top: 4px;
}

.dropdown-item {
  width: 100%;
  padding: 10px 16px;
  text-align: left;
  border: none;
  background: transparent;
  color: var(--ad-text);
  font-size: 14px;
  font-weight: 500;
  cursor: pointer;
  transition: all 0.2s ease;
  border-bottom: 1px solid rgba(71, 85, 105, 0.1);
}

.dropdown-item:hover:not(:disabled) {
  background: rgba(59, 130, 246, 0.1);
  color: #93c5fd;
}

.dropdown-item:last-child {
  border-bottom: none;
}

.dropdown-item:disabled {
  opacity: 0.5;
  color: var(--ad-muted);
  cursor: not-allowed;
}

.dropdown-item:not(:first-child) {
  border-top: 1px solid var(--ad-b);
}

.table__cell:last-child {
  overflow: visible;
}

.table{ width:100%; overflow: visible; }

/* Wiersze danych */
.table__row{
  display: grid;
  grid-template-columns: 1.6fr 1fr .8fr .7fr .8fr 1.2fr; /* Email | Name | UserName | Role | Status | Actions */
  gap: 12px; align-items: center;
  padding: 16px 18px;
  border-top: 1px solid var(--ad-b);
  color: #e5e7eb;
  overflow: visible;
}
.table__row:nth-child(even):not(.table__row--header){ background: rgba(255,255,255,.02); }
.table__row:hover:not(.table__row--header){ background: rgba(255,255,255,.035); }
.table__cell{ min-width:0; }

/* Sticky header tabeli */
.table__row--header{
  position: sticky; top: 0; z-index: 10;
  display: grid;
  grid-template-columns: 1.6fr 1fr .8fr .7fr .8fr 1.2fr;
  gap: 12px; align-items: center;
  padding: 14px 18px;
  background: var(--ad-header);
  color: var(--ad-header-text);
  border-bottom: 1px solid var(--ad-b);
  text-transform: uppercase; letter-spacing: .05em; font-size: 12px;
}

/* Email z avatarem */
.avatar{
  width: 36px; height: 36px; border-radius: 999px;
  object-fit: cover; border: 1px solid var(--ad-b2); background: #fff;
}

/* Badge roli */
.badge{
  display:inline-flex; align-items:center;
  padding:6px 12px; border-radius:999px;
  font-size:12px; font-weight: 900; letter-spacing:.02em;
  border:1px solid var(--ad-b2);
  background: rgba(148,163,184,.12); color:#c7d2fe;
}
.badge[data-role="ADMIN"]{ background: rgba(255,122,0,.18); border-color: rgba(255,122,0,.38); color:#ffb27a; }
.badge[data-role="EDITOR"]{ background: rgba(59,130,246,.18); border-color: rgba(59,130,246,.38); color:#93c5fd; }
.badge[data-role="USER"]{ background: rgba(100,116,139,.18); border-color: rgba(148,163,184,.38); color:#cbd5e1; }
.badge[data-role="API_USER"]{ background: rgba(168,85,247,.18); border-color: rgba(168,85,247,.38); color:#c084fc; }

/* Akcje */
.table__cell:last-child{ display:flex; gap:10px; flex-wrap:wrap; justify-content:flex-start; }
.btn-chip{ border-radius:999px; background: rgba(148,163,184,.08); border-color: rgba(148,163,184,.28); }
.btn-chip--editor{ background: rgba(59,130,246,.12); border-color: rgba(59,130,246,.35); color:#93c5fd; }
.btn-chip--admin{ background: rgba(255,122,0,.12); border-color: rgba(255,122,0,.35); color:#ffb27a; }
.btn-chip--api_user{ background: rgba(168,85,247,.12); border-color: rgba(168,85,247,.35); color:#c084fc; }

/* Alerty */
.alert{ padding:10px 12px; border-radius:10px; font-size:14px; margin:8px 0; }
.alert--ok{ background:#ecfdf5; border:1px solid #a7f3d0; color:#065f46; }
.alert--error{ background:#fef2f2; border:1px solid #fecaca; color:#991b1b; }

@media (prefers-color-scheme:dark){
  .alert--ok{ background:#0b2a22; border-color:#065f46; color:#a7f3d0; }
  .alert--error{ background:#2b1212; border-color:#7f1d1d; color:#fecaca; }
}

/* Skeleton */
.skel{ height: 16px; border-radius: 6px; background: linear-gradient(90deg, rgba(255,255,255,.06), rgba(255,255,255,.12), rgba(255,255,255,.06)); background-size: 200% 100%; animation: sk 1.2s ease-in-out infinite; }
@keyframes sk { 0%{background-position:200% 0} 100%{background-position:-200% 0} }

/* Responsive */
@media (max-width: 860px){
  .table__row, .table__row--header{ grid-template-columns: 1fr; }
  .input, .select{ min-width: 200px; }
}
